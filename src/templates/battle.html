{% extends "layout.html" %}{% block content %}

<p>test</p>


<script>
radius_data1 = [3, 4, 0];
radius_data2 = [49, 19, 18];
radius_data3 = {"attack": 24, "attribute": 0, "defence": 6, "hp": 257, "speed": 32};
radius_data4 = [[9.8, 4.9, 19.6, 147.0], [11.4, 0.0, 7.6, 38.0], [3.5999999999999996, 1.7999999999999998, 5.3999999999999995, 72.0]];

enemy_data1 = [2,3,1];
enemy_data2 = [75,10,10];
enemy_data3 = {"attack": 14, "attribute": 1, "defence": 16, "hp": 457, "speed": 22};
player = false

document.getElementById('canvas');

//ターン開始

turn_count = 0
while(true){
turn_count += 1
//素早さの比較
if(radius_data3['speed'] >= enemy_data3['speed']){
    player = true
    enemy = false
}else{
    player = false
    enemy = true
}
attack(player)
attack(enemy)

if(radius_data3["hp"] <= 0 || enemy_data3["hp"] <= 0){
    console.log("hp_0")
    break;
}
if(turn_count == 10){
    console.log("turn_over")
    break;
}

}
//戦闘終了
console.log("end")
console.log("あなたの体力"+radius_data3["hp"])
console.log("敵の体力"+enemy_data3["hp"])

//関数
function attack(former){
    if(former == true){
        damage = Math.round(radius_data3["attack"]*check_attribute(radius_data3["attribute"],enemy_data3["attribute"])*(1-(enemy_data3["defence"]/100)))
        enemy_data3["hp"] -= damage
        console.log("敵に"+damage+"のダメージ")
    }else{
        damage = Math.round(radius_data3["attack"]*check_attribute(enemy_data3["attribute"],radius_data3["attribute"])*(1-(radius_data3["defence"]/100)))
        radius_data3["hp"] -= damage
        console.log("自分に"+damage+"のダメージ")
    }
}
function check_attribute(attacker,defender){
    damage_times = 1.0
    if(attacker == 0 && defender == 1){
        damage_times = 1.2
        console.log("地属性に効果抜群だ！")
    }else if(attacker == 1 && defender == 2){
       damage_times = 1.2
       console.log("海属性に効果抜群だ！")
    }else if(attacker == 2 && defender == 0){
        damage_times = 1.2
        console.log("天属性に効果抜群だ！")
    }
    return damage_times
}

</script>
{% endblock %}
